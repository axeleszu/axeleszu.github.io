<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Alfalfa Región Norte</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
        }

        .container {
            width: 100%;
            max-width: calc(100vw - 40px);
            overflow-x: hidden;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background-color: #004d40;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            margin: 0;
            font-size: 24px;
        }

        .header .subtitle {
            font-size: 14px;
        }

        .header img {
            height: 40px;
        }

        .section-title {
            color: #004d40;
            border-bottom: 2px solid #004d40;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .grid-1-col {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .grid-2-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-3-col {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            max-width: calc(100vw - 40px);
            border-collapse: collapse;
            margin-bottom: 15px;
            font-size: 14px;
            overflow-x: scroll;
            display: block;
        }

        table th,
        table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
        }

        table th {
            background-color: #f2f2f2;
            text-align: center;
        }

        table thead th {
            background-color: #004d40;
            color: white;
        }

        .table-header-group {
            background-color: #00796b;
            color: white;
        }

        .footnote {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }

        .chart-container {
            height: 300px;
            width: 100%;
        }

        .chart-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
            font-size: 12px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }

        .legend-color {
            width: 15px;
            height: 10px;
            margin-right: 5px;
            border-radius: 2px;
        }

        /* Specific chart styles */
        .line-chart .axis path,
        .line-chart .axis line {
            fill: none;
            stroke: #ccc;
            shape-rendering: crispEdges;
        }

        .line-chart .axis text {
            font-size: 10px;
        }

        .line-chart .grid line {
            stroke: #eee;
            stroke-dasharray: 2, 2;
        }

        .bar-chart .bar {
            fill: #00796b;
        }

        .stacked-bar-chart .bar {
            stroke: white;
        }
    </style>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <div class="header">
        <h1>Alfalfa Región Norte</h1>
        <div class="subtitle">Subdirección de Análisis del Sector</div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -10 183 50" width="183" height="50">
            <g fill="#FFF">
                <path d="M1.2,45.6v3.9h0.6v-1.7h1.7v-0.6H1.7v-1.1H4v-0.6H1.2z"></path>
                <path d="M4.5,45.6h0.6v3.9H4.5V45.6z"></path>
                <path d="M6.2,45.7h1.6c1.2,0,2,0.7,2,1.9c0,1.1-0.8,1.9-2,1.9H6.2C6.2,49.4,6.2,45.7,6.2,45.7z M7.8,48.8
          		c0.8,0,1.4-0.5,1.4-1.3s-0.6-1.3-1.4-1.3H6.9v2.5L7.8,48.8L7.8,48.8z"></path>
                <path d="M13.6,49v0.6h-2.8v-3.9h2.8v0.6h-2.3v1.1H13v0.6h-1.7V49H13.6z"></path>
                <path d="M14.1,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M15.6,47.6c0-1.1,0.8-1.9,2-1.9s1.1,0.2,1.5,0.6l-0.5,0.4c-0.3-0.3-0.6-0.5-1-0.5c-0.8,0-1.4,0.6-1.4,1.3
          		s0.6,1.3,1.4,1.3c0.8,0,0.7-0.2,1-0.5l0.5,0.5c-0.3,0.4-0.8,0.6-1.5,0.6C16.4,49.4,15.6,48.7,15.6,47.6"></path>
                <path d="M19.4,47.6c0-1.1,0.8-1.9,2-1.9s2,0.8,2,1.9c0,1.1-0.8,1.9-2,1.9S19.4,48.7,19.4,47.6 M22.7,47.6
          		c0-0.7-0.6-1.3-1.3-1.3s-1.3,0.6-1.3,1.3s0.6,1.3,1.3,1.3S22.7,48.3,22.7,47.6"></path>
                <path d="M27.7,49.6v-2.8L26.5,49H26l-1.1-1.7v2.3h-0.6v-3.9h0.6l1.1,2.8l1.7-2.8h0.6v3.9H27.7z"></path>
                <path d="M29.3,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M30.5,49.1l0.2-0.6c0.3,0.2,0.8,0.4,1.2,0.4c0.5,0,0.8-0.2,0.8-0.5c0-0.8-2.2-0.3-2.2-1.6
          		c0-1.4,0.5-1.1,1.5-1.1s0.9,0.1,1.2,0.3l-0.2,0.6c-0.3-0.2-0.7-0.3-1-0.3c-0.6,0-0.8,0.2-0.8,0.5c0,0.8,2.2,0.3,2.2,1.6
          		s-0.5,1.1-1.5,1.1C31,49.5,30.9,49.3,30.5,49.1"></path>
                <path d="M33.9,47.6c0-1.1,0.8-1.9,2-1.9c1.1,0,2,0.8,2,1.9c0,1.1-0.8,1.9-2,1.9C34.8,49.5,33.9,48.7,33.9,47.6
          		 M37.2,47.6c0-0.7-0.6-1.3-1.3-1.3c-0.7,0-1.3,0.6-1.3,1.3s0.6,1.3,1.3,1.3C36.7,48.9,37.2,48.3,37.2,47.6"></path>
                <path d="M38.4,49.1l0.2-0.6c0.3,0.2,0.8,0.4,1.2,0.4c0.5,0,0.8-0.2,0.8-0.5c0-0.8-2.2-0.3-2.2-1.6
          		c0-1.4,0.5-1.1,1.5-1.1s0.9,0.1,1.2,0.3L41,46.5c-0.3-0.2-0.7-0.3-1-0.3c-0.6,0-0.8,0.2-0.8,0.5c0,0.8,2.2,0.3,2.2,1.6
          		s-0.5,1.1-1.5,1.1C38.9,49.5,38.7,49.3,38.4,49.1"></path>
                <path d="M43.4,45.6H44v3.9h-0.6V45.6z"></path>
                <path d="M48.5,45.6v3.9H48l-2.3-2.8v2.8h-0.6v-3.9h0.6l2.3,2.8v-2.8H48.5z"></path>
                <path d="M49.1,49.1l0.2-0.6c0.3,0.2,0.8,0.4,1.2,0.4s0.8-0.2,0.8-0.5c0-0.8-2.2-0.3-2.2-1.6c0-1.4,0.5-1.1,1.5-1.1
          		s0.9,0.1,1.2,0.3l-0.2,0.6c-0.3-0.2-0.7-0.3-1-0.3c-0.6,0-0.8,0.2-0.8,0.5c0,0.8,2.2,0.3,2.2,1.6s-0.5,1.1-1.5,1.1
          		S49.5,49.3,49.1,49.1"></path>
                <path d="M53.6,46.2h-1.1v-0.6h2.8v0.6h-1.1v3.4h-0.6V46.2z"></path>
                <path d="M55.8,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M58.7,46.2H57v-0.6h3.4v0.6h-1.1v3.4h-0.6V46.2z"></path>
                <path d="M60.7,47.8v-2.1h0.7v2.1c0,0.8,0.3,1.1,1,1.1c0.6,0,1-0.3,1-1.1v-2.1H64v2.1c0,1.1-0.6,1.7-1.6,1.7
          		S60.7,48.9,60.7,47.8"></path>
                <path d="M64.9,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M66.6,45.7h1.6c1.2,0,2,0.7,2,1.9c0,1.1-0.8,1.9-2,1.9h-1.6C66.6,49.4,66.6,45.7,66.6,45.7z M68.2,48.8
          		c0.8,0,1.4-0.5,1.4-1.3s-0.6-1.3-1.4-1.3h-0.9v2.5L68.2,48.8L68.2,48.8z"></path>
                <path d="M70.7,47.6c0-1.1,0.8-1.9,2-1.9s2,0.8,2,1.9c0,1.1-0.8,1.9-2,1.9S70.7,48.7,70.7,47.6 M74.1,47.6
          		c0-0.7-0.6-1.3-1.3-1.3c-0.7,0-1.3,0.6-1.3,1.3s0.6,1.3,1.3,1.3C73.5,48.9,74.1,48.3,74.1,47.6"></path>
                <path d="M75.1,49.1l0.2-0.6c0.3,0.2,0.8,0.4,1.2,0.4c0.5,0,0.8-0.2,0.8-0.5c0-0.8-2.2-0.3-2.2-1.6
          		c0-1.4,0.5-1.1,1.5-1.1s0.9,0.1,1.2,0.3l-0.2,0.6c-0.3-0.2-0.7-0.3-1-0.3c-0.6,0-0.8,0.2-0.8,0.5c0,0.8,2.2,0.3,2.2,1.6
          		s-0.5,1.1-1.5,1.1S75.5,49.3,75.1,49.1"></path>
                <path d="M82.9,49v0.6h-2.8v-3.9h2.8v0.6h-1.7v1.1h1.7v0.6h-1.7V49H82.9z"></path>
                <path d="M87.4,45.6v3.9h-0.6l-2.3-2.8v2.8H84v-3.9h0.6l1.7,2.8v-2.8H87.4z"></path>
                <path d="M92,49.4l-0.7-1.1c0,0-0.1,0-0.2,0h-0.8v1.1h-0.7v-3.7h1.5c1,0,1.6,0.5,1.6,1.3s-0.3,1-0.8,1.2l0.8,1.2H92z
          		 M91.1,46.3h-0.8v1.5h0.8c0.6,0,0.9-0.3,0.9-0.7S91.7,46.3,91.1,46.3"></path>
                <path d="M96.4,49v0.6h-2.8v-3.9h2.8v0.6h-2.3v1.1h1.7v0.6h-1.7V49H96.4z"></path>
                <path d="M97,45.6h0.6V49h2.3v0.6H97V45.6z"></path>
                <path d="M102.7,48.6h-1.9l-0.3,0.8h-0.7l1.7-3.7h0.7l1.7,3.7H103L102.7,48.6L102.7,48.6z M102.4,48l-0.7-1.6l-0.7,1.6
          		H102.4L102.4,48z"></path>
                <path d="M103.9,47.6c0-1.1,0.8-1.9,2-1.9c1.1,0,1.1,0.2,1.5,0.6l-0.5,0.4c-0.3-0.3-0.6-0.5-1-0.5
          		c-0.8,0-1.4,0.6-1.4,1.3s0.6,1.3,1.4,1.3c0.8,0,0.7-0.2,1-0.5l0.5,0.5c-0.3,0.4-0.8,0.6-1.5,0.6C104.7,49.4,103.9,48.7,103.9,47.6"></path>
                <path d="M108.3,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M109.4,47.6c0-1.1,0.8-1.9,2-1.9c1.1,0,2,0.8,2,1.9c0,1.1-0.8,1.9-2,1.9C110.3,49.5,109.4,48.7,109.4,47.6
          		 M112.7,47.6c0-0.7-0.6-1.3-1.3-1.3c-0.7,0-1.3,0.6-1.3,1.3s0.6,1.3,1.3,1.3C112.2,48.9,112.7,48.3,112.7,47.6 M111.7,44.7h0.8
          		l-0.9,0.7H111L111.7,44.7L111.7,44.7z"></path>
                <path d="M117.3,45.6v3.9h-0.6l-1.7-2.8v2.8h-1.1v-3.9h0.6l2.3,2.8v-2.8H117.3z"></path>
                <path d="M119.7,47.6c0-1.1,0.8-1.9,2-1.9s1.1,0.2,1.5,0.6l-0.5,0.4c-0.3-0.3-0.6-0.5-1-0.5c-0.8,0-1.4,0.6-1.4,1.3
          		s0.6,1.3,1.4,1.3c0.8,0,0.7-0.2,1-0.5l0.5,0.5c-0.3,0.4-0.8,0.6-1.5,0.6C120.5,49.4,119.7,48.7,119.7,47.6"></path>
                <path d="M123.5,47.6c0-1.1,0.8-1.9,2-1.9s2,0.8,2,1.9c0,1.1-0.8,1.9-2,1.9S123.5,48.7,123.5,47.6 M126.7,47.6
          		c0-0.7-0.6-1.3-1.3-1.3c-0.7,0-1.3,0.6-1.3,1.3s0.6,1.3,1.3,1.3C126.2,48.9,126.7,48.3,126.7,47.6"></path>
                <path d="M131.4,45.6v3.9h-0.6l-1.7-2.8v2.8H128v-3.9h0.6l2.3,2.8v-2.8H131.4z"></path>
                <path d="M134.2,45.6h0.6V49h1.7v0.6h-2.3V45.6z"></path>
                <path d="M139.5,48.6h-1.9l-0.3,0.8h-0.7l1.7-3.7h0.7l1.7,3.7h-0.7L139.5,48.6L139.5,48.6z M139.3,48l-0.7-1.6l-0.7,1.6
          		H139.3L139.3,48z"></path>
                <path d="M145,48.6h-1.9l-0.3,0.8h-0.7l1.7-3.7h0.7l1.7,3.7h-0.7L145,48.6L145,48.6z M144.8,48l-0.7-1.6l-0.7,1.6H144.8
          		L144.8,48z"></path>
                <path d="M149,47.5h0.7V49c-0.4,0.3-0.9,0.5-1.5,0.5c-1.1,0-2-0.8-2-1.9c0-1.1,0.8-1.9,2-1.9c1.2,0,1.1,0.2,1.5,0.6
          		l-0.5,0.5c-0.3-0.3-0.6-0.5-1-0.5c-0.8,0-1.4,0.6-1.4,1.3s0.6,1.3,1.4,1.3c0.8,0,0.5,0,0.8-0.2L149,47.5L149,47.5z"></path>
                <path d="M153,49.4l-0.7-1.1c0,0-0.1,0-0.2,0h-0.8v1.1h-0.7v-3.7h1.5c1,0,1.6,0.5,1.6,1.3s-0.3,1-0.8,1.2l0.8,1.2H153
          		L153,49.4z M152.1,46.3h-0.8v1.5h0.8c0.6,0,0.9-0.3,0.9-0.7S152.7,46.3,152.1,46.3"></path>
                <path d="M154.5,45.6h0.6v3.9h-0.6V45.6z"></path>
                <path d="M155.9,47.6c0-1.1,0.8-1.9,2-1.9s1.1,0.2,1.5,0.6l-0.5,0.4c-0.3-0.3-0.6-0.5-1-0.5c-0.8,0-1.4,0.6-1.4,1.3
          		s0.6,1.3,1.4,1.3s0.7-0.2,1-0.5l0.5,0.5c-0.3,0.4-0.8,0.6-1.5,0.6C156.7,49.4,155.9,48.7,155.9,47.6"></path>
                <path d="M159.9,47.8v-2.1h0.7v2.1c0,0.8,0.3,1.1,1,1.1c0.6,0,1-0.3,1-1.1v-2.1h0.7v2.1c0,1.1-0.6,1.7-1.6,1.7
          		S159.9,48.9,159.9,47.8"></path>
                <path d="M164.1,45.6h0.6V49h2.3v0.6h-2.8V45.6z"></path>
                <path d="M168.1,46.2h-1.7v-0.6h3.4v0.6h-1.1v3.4h-0.6V46.2z"></path>
                <path d="M170.1,47.8v-2.1h0.7v2.1c0,0.8,0.3,1.1,1,1.1c0.6,0,1-0.3,1-1.1v-2.1h0.7v2.1c0,1.1-0.6,1.7-1.6,1.7
          		S170.1,48.9,170.1,47.8"></path>
                <path d="M176.7,49.4l-0.7-1.1c0,0-0.1,0-0.2,0H175v1.1h-0.7v-3.7h1.5c1,0,1.6,0.5,1.6,1.3s-0.3,1-0.8,1.2l0.8,1.2
          		H176.7L176.7,49.4z M175.8,46.3H175v1.5h0.8c0.6,0,0.9-0.3,0.9-0.7S176.3,46.3,175.8,46.3"></path>
                <path d="M180.6,48.6h-1.9l-0.3,0.8h-0.7l1.7-3.7h0.7l1.7,3.7H181L180.6,48.6L180.6,48.6z M180.4,48l-0.7-1.6L179,48
          		H180.4L180.4,48z"></path>
                <path d="M74.9,31.3h-3.8v10.4H57.3V0.5h19.8c11.4,0,18.7,6,18.7,15.5S93,26.4,88,29l8.6,12.7H81.8L74.9,31.3L74.9,31.3
          		z M76.2,11.2h-5.1v9.6h5.1c3.8,0,5.6-1.8,5.6-4.8S80,11.2,76.2,11.2"></path>
                <path d="M15.3,11.2V18h16.9v10.7H15.3v13H1.2V0.5h33.3v10.7H15.3z"></path>
                <path d="M128.4,11.4c-1.1,6.4-4.5,15.3-14.9,18.4c-1.1,0.3-3,0.7-4.3,0.8c-0.1,0-0.1,0-0.2,0c-0.5-1.3-1.2-4-1.6-6.9
          		c-0.5-3.7,0-8.5,2.8-12c0.5-0.6,1-1.2,1.6-1.7c2.6-2.4,6-3.6,9-4.5c1.7-0.5,3.4-0.6,4.8-0.8l-2-4.2h-13.6l-18,41.2H106l2.8-7.2
          		h15.7l2.8,7.2h14.4L128.4,11.4z"></path>
                <path d="M111.7,14.7c-0.5,0.4-0.9,0.8-1.2,1.3c-2.3,2.7-2.6,6.1-2.3,8.9c0.3,2.2,0.9,4.1,1.2,5
          		c0.2-0.4,0.4-0.8,0.6-1.2c0.3-0.7,0.7-1.4,1.1-2.1c2.2-4.4,5.8-10.4,11.1-13.1c0,0-6.3,5.6-10.5,13.2c-0.6,1.1-1.2,2.4-1.7,3.6
          		c1.1-0.2,2-0.4,2.9-0.7c10.6-3.2,12.4-13.3,12.6-17.6c0.1-1.2,0-2,0-2s-0.6,0-1.6,0.1c-0.2,0-0.3,0-0.6,0.1c-0.1,0-0.2,0-0.2,0
          		c-1.1,0.2-2.6,0.5-4.2,0.9C116.4,11.6,113.8,12.7,111.7,14.7"></path>
                <path d="M50.2,27.2c0.5-0.6,2.2-3.4,2.2-3.4s-3.3,3.8-4,4.3c-0.7,0.5-1.5,0-1-0.6c0.5-0.6,2.3-3.8,2.3-3.8
          		s-2.5,3.1-3.3,3.8c-0.8,0.7-1.8,0.2-1.2-0.7c0.5-1,3.8-5.2,3.8-5.2s-2.8,3.2-3.6,3.8c-0.9,0.6-1.5-0.4-0.8-1.1
          		c0.6-0.7,5.9-7.1,6-7.8c0.1-0.7-0.6-1.2-2.8-2.2s-1.4-2.9-0.7-2.2c0.7,0.7,4.8,1.4,6.1,1.3V0.5H38.9v16c0.7-0.9,1.3-1.6,1.5-1.8
          		c0.5-0.8,1.8-0.2,1.4,0.3c-0.5,0.6-2.2,3.4-2.2,3.4s3.3-3.8,4-4.3c0.7-0.5,1.5,0,1,0.6c-0.5,0.6-2.3,3.8-2.3,3.8s2.5-3.1,3.3-3.8
          		c0.8-0.7,1.8-0.2,1.2,0.7c-0.5,1-3.8,5.2-3.8,5.2s2.8-3.2,3.6-3.8c0.9-0.6,1.5,0.4,0.8,1.1c-0.6,0.7-5.9,7.1-6,7.8
          		c-0.1,0.7,0.6,1.2,2.8,2.2c2.3,1,1.4,2.9,0.7,2.2c-0.7-0.7-4.8-1.4-6.1-1.3v12.8H53v-16c-0.7,0.9-1.3,1.6-1.5,1.8
          		c-0.5,0.8-1.8,0.2-1.4-0.3"></path>
                <path d="M163.7,0.5h-35.9l18,41.2h35.9L163.7,0.5z M166.5,30.3c-0.6-0.1-0.9,0.3-1.5-0.3
          		C165.5,29.8,166,29.7,166.5,30.3 M164.3,29.5c0.4-0.2,1-0.4,1.6,0.2C165.3,29.7,165,30,164.3,29.5 M162.9,28.3
          		c-0.6,0.3-0.7,0.8-1.5,0.6C161.7,28.5,162.1,28.1,162.9,28.3 M160.4,29.1c0.2-0.6,0.5-1,1.4-1C161.2,28.6,161.3,29.1,160.4,29.1
          		 M164.1,28.6c-0.7,0.2-0.9,0.8-1.6,0.5C162.8,28.6,163.3,28.2,164.1,28.6 M165.1,29.1c-0.7,0.1-1,0.6-1.7,0.1
          		C163.7,28.9,164.4,28.5,165.1,29.1 M163.7,21.3L163.7,21.3c0,0.2,0,0.3,0.1,0.4c0.2,1,0.4,2,0.6,3c0,0.2,0.1,0.3,0.1,0.5
          		c0.1,0.3,0.3,0.6,0.7,0.7h0.1v0.8c0,0,0,0-0.1,0c-1,0-2,0-3,0h-0.1v-0.8c0.1,0,0.2,0,0.3,0c0.3-0.1,0.5-0.3,0.6-0.7
          		c0.1-0.2,0-0.5,0-0.7c-0.1-0.5-0.2-0.9-0.2-1.4c0,0,0-0.1,0-0.1c0.4-0.5,0.7-1,1-1.6 M162.5,9.3v0.3c0,0.2,0,0.3,0,0.5
          		c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.3,0.1-0.3,0.2c-0.2,0.2-0.3,0.4-0.2,0.6c0,0.2,0.1,0.5,0.1,0.7c0.2,0.8,0.3,1.6,0.5,2.5
          		c0.1,0.5,0.2,0.9,0.3,1.4l0,0l0,0c-0.4-0.4-0.8-0.7-1.4-1c-0.1,0-0.1-0.1-0.1-0.1c-0.2-0.9-0.3-1.8-0.5-2.7
          		c-0.1-0.5-0.2-1.1-0.3-1.6v0.1c-0.5,0.8-0.9,1.5-1.4,2.3c-0.4,0.6-0.9,1-1.6,1.2c-0.1,0-0.3,0-0.4,0.1c-0.2,0-0.5,0-0.7,0v-0.1
          		c0.8-1.5,1.7-2.9,2.6-4.4c0,0,0-0.1,0.1-0.1C160.2,9.3,161.3,9.3,162.5,9.3L162.5,9.3 M150.1,7.4C150.1,7.4,150.1,7.4,150.1,7.4
          		c1.7,0,3.3,0,4.9,0c0.1,0,0.1,0,0.2,0h1.9c0.1,0,0.3,0,0.4,0c0.5,0,1,0.1,1.4,0.3c0.6,0.2,1,0.6,1.4,1l0,0l0,0h-0.1
          		c-0.7,0-1.4,0-2,0h-0.1c-0.5-0.2-1-0.3-1.5-0.3c-1.4,0-2.8,0-4.2,0h-0.1v14.8c0.2,0,0.3,0,0.5,0c1.2,0,2.4,0,3.7,0.1
          		c0.5,0,1,0,1.5,0c1.7-0.1,3.4-1.2,3.8-3.2c0.2-1.1,0-2.2-0.6-3.2c-0.5-0.7-1.1-1.1-1.9-1.4c-0.6-0.2-1.2-0.3-1.9-0.3
          		c-0.6,0-1.2,0-1.8,0c-0.1,0-0.1,0-0.1-0.1c-0.2-0.3-0.3-0.6-0.5-0.8h0.1c0.7,0,1.4,0,2,0c0.4,0,0.7-0.2,1.1-0.3
          		c0.6-0.3,1-0.7,1.3-1.3c0.2-0.3,0.4-0.7,0.6-1l0,0c0,0.2,0.1,0.4,0.1,0.6c0.1,0.5,0.2,1,0.3,1.5c0,0.1,0,0.1,0,0.2
          		c-0.2,0.2-0.3,0.3-0.5,0.5c0,0-0.1,0-0.1,0.1l0,0c0,0,0.1,0,0.2,0c0.6,0.2,1.1,0.5,1.6,0.8c0.8,0.6,1.3,1.4,1.6,2.3
          		c0.2,0.5,0.3,1.1,0.3,1.6c-0.1,1.5-0.6,2.8-1.8,3.8c-0.6,0.5-1.2,0.8-2,0.9c-0.6,0.1-1.1,0.1-1.6,0.1c-1.7,0-3.4,0-5.2,0
          		c-0.9,0-1.8,0-2.7,0c0,0,0,0-0.1,0c0,0,0,0,0-0.1c0-0.2,0-0.4,0-0.6v-0.1c0.4-0.2,0.6-0.5,0.7-0.9c0-0.1,0-0.2,0-0.3
          		c0-4.3,0-8.6,0-12.8c0-0.4-0.1-0.7-0.5-1c-0.1-0.1-0.2-0.1-0.2-0.2c0,0,0,0,0-0.1C150.1,7.8,150.1,7.6,150.1,7.4 M153,12.2
          		c0.8,1.4,1.6,2.8,2.4,4.1c0.1-0.1,0.2-0.2,0.2-0.3c0.1-0.1,0.2-0.2,0.3-0.2c0.3,0,0.6,0,1,0h0.1c-0.6,1-1.2,1.9-1.7,2.9
          		c-0.3-0.4-0.5-0.8-0.7-1.2c-0.5-0.8-1-1.5-1.4-2.3c0,0,0-0.1,0-0.1C153.1,14.1,153.1,13.2,153,12.2L153,12.2L153,12.2 M145.8,25.8
          		c0.1,0,0.2,0,0.3-0.1c0.3-0.2,0.5-0.4,0.6-0.7c0.2-1.3,0.5-2.5,0.7-3.8c0.3-1.4,0.5-2.8,0.8-4.2c0.3-1.6,0.6-3.2,0.9-4.7
          		c0.1-0.4,0.2-0.8,0.2-1.2c0.1-0.3,0-0.6-0.3-0.8c-0.1-0.1-0.2-0.1-0.3-0.2c0,0,0,0,0-0.1c0-0.2,0-0.5,0-0.7l0,0h1.6v0.1
          		c0,1,0,2.1,0,3.1c0,0.2,0,0.5-0.1,0.7c-0.1,0.7-0.3,1.5-0.4,2.2c-0.1,0.7-0.3,1.5-0.4,2.3s-0.3,1.5-0.4,2.3s-0.3,1.5-0.4,2.3
          		c-0.1,0.7-0.2,1.4-0.4,2c0,0.1-0.1,0.3-0.1,0.4c0,0.4,0.1,0.7,0.4,1c0.1,0.1,0.3,0.2,0.4,0.2c0,0,0.1,0,0.1,0v0.8h-3.2L145.8,25.8
          		L145.8,25.8z M154.5,34.8c0.1-0.9,0.4-1.7,0.8-2.4c0.1,0.2,0.2,0.3,0.2,0.5L154.5,34.8z M155.6,32.8c-0.1-0.2-0.1-0.3-0.2-0.5
          		c-1.7-3.4-6.3-4.7-8-2c1-0.9,1.7-1.1,3-1c-2.4,3.3-3.8,2.1-6.5,2.3c2.7-4.2,9.2-4.1,11.7,0.5c0.1,0.1,0.2,0.3,0.2,0.4
          		c0.3,0.7,0.6,1.5,0.7,2.4L155.6,32.8L155.6,32.8z M159.4,29.7c-1.5,0.3-2.8,1.4-3.6,2.7c-0.1-0.1-0.1-0.3-0.2-0.4
          		c0.8-1.4,2.1-2.3,3.8-2.8c0.2-0.5,0.6-0.8,1.2-0.9c-0.3,0.2-0.2,0.7-0.6,1c0.3,0.1,0.6,0.5,1.1,0.7
          		C160.5,30.2,159.9,29.9,159.4,29.7 M160.7,29.3c0.8-0.2,0.9,0.3,1.4,0.8C161.5,30.2,161,29.9,160.7,29.3 M161.7,29.3
          		c0.8-0.1,0.8,0.5,1.2,1C162.4,30.3,161.9,29.9,161.7,29.3 M162.7,29.4c0.8-0.1,0.7,0.6,1,1C163.2,30.4,162.9,29.9,162.7,29.4
          		 M163.6,29.5c0.7,0,0.7,0.5,0.9,1.1C164,30.5,163.7,30.1,163.6,29.5 M164.5,29.9c0.8,0.1,0.6,0.7,0.8,1.2
          		C164.8,31,164.6,30.6,164.5,29.9 M165.3,30.3c0.7,0.2,0.6,0.7,0.7,1.3C165.6,31.4,165.3,31,165.3,30.3 M166,30.5
          		c1-0.1,1,0.4,1.3,0.9C166.7,31.2,166.1,31.4,166,30.5"></path>
            </g>
        </svg>
    </div>

    <div class="container">
        <div class="grid-1-col">
            <div>
                <h2 class="section-title">Importancia en la producción nacional, 2023</h2>
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2">Entidad</th>
                            <th colspan="2">Superficie cosechada</th>
                            <th colspan="2">Producción</th>
                        </tr>
                        <tr>
                            <th>Posición</th>
                            <th>Participación</th>
                            <th>Posición</th>
                            <th>Participación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Coahuila</td>
                            <td>7</td>
                            <td>5.0%</td>
                            <td>9</td>
                            <td>4.1%</td>
                        </tr>
                        <tr>
                            <td>Chihuahua</td>
                            <td>1</td>
                            <td>24.5%</td>
                            <td>1</td>
                            <td>25.1%</td>
                        </tr>
                        <tr>
                            <td>Durango</td>
                            <td>5</td>
                            <td>8.0%</td>
                            <td>6</td>
                            <td>7.6%</td>
                        </tr>
                        <tr>
                            <td>Nuevo León</td>
                            <td>20</td>
                            <td>0.6%</td>
                            <td>20</td>
                            <td>0.3%</td>
                        </tr>
                        <tr>
                            <td>Tamaulipas</td>
                            <td>24</td>
                            <td>0.0%</td>
                            <td>23</td>
                            <td>0.0%</td>
                        </tr>
                        <tr class="table-header-group">
                            <td>Región Norte</td>
                            <td></td>
                            <td>38.0%</td>
                            <td></td>
                            <td>37.2%</td>
                        </tr>
                    </tbody>
                </table>
                <div class="footnote">Fuente: SIAP-SADER.</div>
            </div>
            <div>
                <h2 class="section-title">Importancia en la producción agrícola de cada entidad, 2023</h2>
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2">Entidad</th>
                            <th colspan="2">Superficie cosechada</th>
                            <th colspan="2">Valor de la producción</th>
                        </tr>
                        <tr>
                            <th>Posición</th>
                            <th>Participación</th>
                            <th>Posición</th>
                            <th>Participación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Coahuila</td>
                            <td>3</td>
                            <td>9.8%</td>
                            <td>1</td>
                            <td>14.6%</td>
                        </tr>
                        <tr>
                            <td>Chihuahua</td>
                            <td>2</td>
                            <td>13.2%</td>
                            <td>3</td>
                            <td>14.1%</td>
                        </tr>
                        <tr>
                            <td>Durango</td>
                            <td>5</td>
                            <td>9.9%</td>
                            <td>3</td>
                            <td>18.4%</td>
                        </tr>
                        <tr>
                            <td>Nuevo León</td>
                            <td>9</td>
                            <td>0.9%</td>
                            <td>11</td>
                            <td>1.4%</td>
                        </tr>
                        <tr>
                            <td>Tamaulipas</td>
                            <td>42</td>
                            <td>0.0%</td>
                            <td>39</td>
                            <td>0.0%</td>
                        </tr>
                        <tr class="table-header-group">
                            <td>Región Norte</td>
                            <td>4</td>
                            <td>5.7%</td>
                            <td>2</td>
                            <td>10.7%</td>
                        </tr>
                    </tbody>
                </table>
                <div class="footnote">Fuente: SIAP-SADER.</div>
            </div>
        </div>

        <div class="grid-2-col">
            <div>
                <h2 class="section-title">Evolución de la producción, 2019-2023 <br><small>(Miles de toneladas, alfalfa verde)</small></h2>
                <div class="chart-container" id="production-evolution-chart"></div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="legend-color" style="background-color: #4CAF50;"></span>Coah</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FFC107;"></span>Chih</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FF5722;"></span>Dgo</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #795548;"></span>NL</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #607D8B;"></span>Tamps</div>
                </div>
                <div class="footnote">Fuente: SIAP-SADER.</div>
            </div>
            <div>
                <h2 class="section-title">Distribución de la producción por régimen de humedad, 2023 <br><small>(Porcentaje)</small></h2>
                <div class="chart-container" id="humidity-distribution-chart"></div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="legend-color" style="background-color: #2196F3;"></span>Riego</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FF9800;"></span>Temporal</div>
                </div>
                <div class="footnote">Fuente: SIAP-SADER.</div>
            </div>
        </div>

        <h2 class="section-title">Principales indicadores, 2023*</h2>
        <table>
            <thead>
                <tr>
                    <th rowspan="2">Entidad</th>
                    <th colspan="2">Superficie</th>
                    <th rowspan="2">Producción (toneladas)</th>
                    <th rowspan="2">Rendimiento (t/ha)</th>
                    <th rowspan="2">Precio al productor ($/t)</th>
                    <th rowspan="2">Valor de la Producción (mdp)</th>
                    <th rowspan="2">Costo de producción** ($/ha)</th>
                </tr>
                <tr>
                    <th>Plantada (hectáreas)</th>
                    <th>Cosechada (hectáreas)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Chihuahua</td>
                    <td>100,211</td>
                    <td>100,211</td>
                    <td>9,834,543</td>
                    <td>98.1</td>
                    <td>856</td>
                    <td>8,414.7</td>
                    <td>39,600</td>
                </tr>
                <tr>
                    <td>Durango</td>
                    <td>32,568</td>
                    <td>32,568</td>
                    <td>2,981,709</td>
                    <td>91.6</td>
                    <td>817</td>
                    <td>2,435.0</td>
                    <td>Nd.</td>
                </tr>
                <tr>
                    <td>Coahuila</td>
                    <td>20,422</td>
                    <td>20,422</td>
                    <td>1,619,764</td>
                    <td>79.3</td>
                    <td>881</td>
                    <td>1,427.3</td>
                    <td>59,460</td>
                </tr>
                <tr>
                    <td>Nuevo León</td>
                    <td>2,502</td>
                    <td>2,502</td>
                    <td>126,571</td>
                    <td>50.6</td>
                    <td>720</td>
                    <td>91.2</td>
                    <td>Nd.</td>
                </tr>
                <tr>
                    <td>Tamaulipas</td>
                    <td>65</td>
                    <td>65</td>
                    <td>7,126</td>
                    <td>109.6</td>
                    <td>558</td>
                    <td>4.0</td>
                    <td>Nd.</td>
                </tr>
                <tr class="table-header-group">
                    <td>Región Norte</td>
                    <td>155,768</td>
                    <td>155,768</td>
                    <td>14,569,712</td>
                    <td>93.5</td>
                    <td>849</td>
                    <td>12,372</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <div class="footnote">Fuente: SIAP-SADER y Agrocostos FIRA.</div>
        <div class="footnote">*Alfalfa Verde.</div>
        <div class="footnote">**Chihuahua: 2023, BMF, riego por aspersión, mantenimiento, año 2 (Agencias Chihuahua). Coahuila: 2023, BMF, mantenimiento (Agencias Coahuila). No incluye costos financieros.</div>

        <h2 class="section-title">Rendimientos, 2019-2023 <br><small>(Toneladas por hectárea, alfalfa verde)</small></h2>
        <div class="chart-container" id="yields-chart"></div>
        <div class="chart-legend">
            <div class="legend-item"><span class="legend-color" style="background-color: #4CAF50;"></span>Coah</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #FFC107;"></span>Chih</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #FF5722;"></span>Dgo</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #795548;"></span>NL</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #000000; border-style: dashed;"></span>Nacional</div>
        </div>
        <div class="footnote">Fuente: SIAP-SADER.</div>

        <h2 class="section-title">Precio al productor, 2019-2023* <br><small>(Pesos por tonelada, a precios de 2023)</small></h2>
        <div class="chart-container" id="price-chart"></div>
        <div class="chart-legend">
            <div class="legend-item"><span class="legend-color" style="background-color: #4CAF50;"></span>Coah</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #FFC107;"></span>Chih</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #FF5722;"></span>Dgo</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #795548;"></span>NL</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #000000; border-style: dashed;"></span>Nacional</div>
        </div>
        <div class="footnote">Fuente: SIAP-SADER.</div>
        <div class="footnote">*Alfalfa verde.</div>

        <h2 class="section-title">Estacionalidad de cosechas, 2022/23 <br><small>(Porcentaje)</small></h2>
        <div class="chart-container" id="harvest-seasonality-chart" style="height: 400px;"></div>
        <div class="chart-legend">
            <div class="legend-item"><span class="legend-color" style="background-color: #00796b;"></span>Chihuahua</div>
            <div class="legend-item"><span class="legend-color" style="background-color: #FF9800;"></span>Durango</div>
        </div>
        <div class="footnote">Fuente: SIAP-SADER.</div>

        <h2 class="section-title">Principales municipios productores, 2023*</h2>
        <table>
            <thead>
                <tr>
                    <th rowspan="2">Entidad</th>
                    <th rowspan="2">Municipio</th>
                    <th colspan="1">Superficie cosechada</th>
                    <th rowspan="2">Producción (Toneladas)</th>
                    <th rowspan="2">Rendimiento (t/ha)</th>
                    <th colspan="2">Participación</th>
                </tr>
                <tr>
                    <th>(Hectáreas)</th>
                    <th>en la prod. estatal (%)</th>
                    <th>en la prod. nacional (%)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="7">Coahuila</td>
                    <td>San Pedro</td>
                    <td>4,657</td>
                    <td>449,913</td>
                    <td>96.6</td>
                    <td>27.8%</td>
                    <td>1.1%</td>
                </tr>
                <tr>
                    <td>Matamoros</td>
                    <td>4,100</td>
                    <td>369,369</td>
                    <td>90.1</td>
                    <td>22.8%</td>
                    <td>0.9%</td>
                </tr>
                <tr>
                    <td>Francisco I. Madero</td>
                    <td>2,965</td>
                    <td>262,106</td>
                    <td>88.4</td>
                    <td>16.2%</td>
                    <td>0.7%</td>
                </tr>
                <tr>
                    <td>Cuatro Ciénegas</td>
                    <td>2,892</td>
                    <td>148,938</td>
                    <td>52</td>
                    <td>9.2%</td>
                    <td>0.4%</td>
                </tr>
                <tr>
                    <td>Torreón</td>
                    <td>1,465</td>
                    <td>126,151</td>
                    <td>86</td>
                    <td>7.8%</td>
                    <td>0.3%</td>
                </tr>
                <tr>
                    <td>Otros</td>
                    <td>4,343</td>
                    <td>263,287</td>
                    <td>60.6</td>
                    <td>16.3%</td>
                    <td>0.7%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Total</td>
                    <td>20,422</td>
                    <td>1,619,764</td>
                    <td>79.3</td>
                    <td>100.0%</td>
                    <td>4.1%</td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="7">Chihuahua</td>
                    <td>Delicias</td>
                    <td>11,083</td>
                    <td>1,173,136</td>
                    <td>105.9</td>
                    <td>11.9%</td>
                    <td>3.0%</td>
                </tr>
                <tr>
                    <td>Meoqui</td>
                    <td>11,641</td>
                    <td>1,131,637</td>
                    <td>97.2</td>
                    <td>11.5%</td>
                    <td>2.9%</td>
                </tr>
                <tr>
                    <td>Ahumada</td>
                    <td>8,450</td>
                    <td>892,320</td>
                    <td>105.6</td>
                    <td>9.1%</td>
                    <td>2.3%</td>
                </tr>
                <tr>
                    <td>Buenaventura</td>
                    <td>5,700</td>
                    <td>618,850</td>
                    <td>108.6</td>
                    <td>6.3%</td>
                    <td>1.6%</td>
                </tr>
                <tr>
                    <td>Ascensión</td>
                    <td>6,750</td>
                    <td>596,700</td>
                    <td>88.4</td>
                    <td>6.1%</td>
                    <td>1.5%</td>
                </tr>
                <tr>
                    <td>Otros</td>
                    <td>56,587</td>
                    <td>5,421,900</td>
                    <td>95.8</td>
                    <td>55.1%</td>
                    <td>13.8%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Total</td>
                    <td>100,211</td>
                    <td>9,834,543</td>
                    <td>98.1</td>
                    <td>100.0%</td>
                    <td>25.1%</td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="7">Durango</td>
                    <td>Gómez Palacio</td>
                    <td>6,783</td>
                    <td>701,936</td>
                    <td>103.5</td>
                    <td>23.5%</td>
                    <td>1.8%</td>
                </tr>
                <tr>
                    <td>Lerdo</td>
                    <td>6,558</td>
                    <td>551,999</td>
                    <td>84.2</td>
                    <td>18.5%</td>
                    <td>1.4%</td>
                </tr>
                <tr>
                    <td>Mapimí</td>
                    <td>4,273</td>
                    <td>364,819</td>
                    <td>85.4</td>
                    <td>12.2%</td>
                    <td>0.9%</td>
                </tr>
                <tr>
                    <td>Durango</td>
                    <td>3,280</td>
                    <td>349,156</td>
                    <td>106.5</td>
                    <td>11.7%</td>
                    <td>0.9%</td>
                </tr>
                <tr>
                    <td>Nazas</td>
                    <td>3,585</td>
                    <td>292,444</td>
                    <td>81.6</td>
                    <td>9.8%</td>
                    <td>0.7%</td>
                </tr>
                <tr>
                    <td>Otros</td>
                    <td>8,089</td>
                    <td>721,354</td>
                    <td>89.2</td>
                    <td>24.2%</td>
                    <td>1.8%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Total</td>
                    <td>32,568</td>
                    <td>2,981,709</td>
                    <td>91.6</td>
                    <td>100.0%</td>
                    <td>7.6%</td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="7">Nuevo León</td>
                    <td>Galeana</td>
                    <td>1,501</td>
                    <td>71,526</td>
                    <td>53.9</td>
                    <td>56.5%</td>
                    <td>0.2%</td>
                </tr>
                <tr>
                    <td>Aramberri</td>
                    <td>731</td>
                    <td>41,667</td>
                    <td>73.5</td>
                    <td>32.9%</td>
                    <td>0.1%</td>
                </tr>
                <tr>
                    <td>Doctor Arroyo</td>
                    <td>194</td>
                    <td>10,476</td>
                    <td>65.5</td>
                    <td>8.3%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Sabinas Hidalgo</td>
                    <td>28</td>
                    <td>854</td>
                    <td>33.0</td>
                    <td>0.7%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Mina</td>
                    <td>14</td>
                    <td>718</td>
                    <td>54.0</td>
                    <td>0.6%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Otros</td>
                    <td>34</td>
                    <td>1,329</td>
                    <td>39.0</td>
                    <td>1.1%</td>
                    <td>0.0%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Total</td>
                    <td>2,502</td>
                    <td>126,571</td>
                    <td>50.6</td>
                    <td>100.0%</td>
                    <td>0.3%</td>
                </tr>
                </tr>
                <tr>
                    <td rowspan="7">Tamaulipas</td>
                    <td>Tula</td>
                    <td>37</td>
                    <td>3,730</td>
                    <td>71.1</td>
                    <td>52.3%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Gustavo Díaz Ordaz</td>
                    <td>19</td>
                    <td>2,385</td>
                    <td>89.6</td>
                    <td>33.5%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Camargo</td>
                    <td>4</td>
                    <td>441</td>
                    <td>80.7</td>
                    <td>6.2%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Reynosa</td>
                    <td>4</td>
                    <td>395</td>
                    <td>16.3</td>
                    <td>5.5%</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>Miguel Alemán</td>
                    <td>2</td>
                    <td>175</td>
                    <td>17.2</td>
                    <td>2.5%</td>
                    <td>0.0%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Total</td>
                    <td>65</td>
                    <td>7,126</td>
                    <td>109.6</td>
                    <td>100.0%</td>
                    <td>0.0%</td>
                </tr>
                </tr>
                <tr class="table-header-group">
                    <td>Región Norte</td>
                    <td></td>
                    <td>155,768</td>
                    <td>14,569,712</td>
                    <td>93.5</td>
                    <td></td>
                    <td></td>
                    <td>37.2%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Nacional</td>
                    <td></td>
                    <td>409,558</td>
                    <td>39,189,572</td>
                    <td>95.7</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <div class="footnote">Fuente: SIAP-SADER.</div>
        <div class="footnote">*Alfalfa verde.</div>

        <h2 class="section-title">Financiamiento de FIRA</h2>
        <h3 class="section-title">Saldo de financiamiento a la red alfalfa en la región <br><small>(Millones de pesos)</small></h3>
        <table>
            <thead>
                <tr>
                    <th>Concepto</th>
                    <th>2021</th>
                    <th>2022</th>
                    <th>2023</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Saldo de cartera total (mdp)</td>
                    <td>282.9</td>
                    <td>291.2</td>
                    <td>281.1</td>
                </tr>
                <tr>
                    <td>E1 - Microempresa</td>
                    <td>5.6</td>
                    <td>2.7</td>
                    <td>1.5</td>
                </tr>
                <tr>
                    <td>E2 - Empresa familiar</td>
                    <td>1.7</td>
                    <td>1.4</td>
                    <td>0.8</td>
                </tr>
                <tr>
                    <td>E3 - Pequeña empresa</td>
                    <td>31.6</td>
                    <td>25.0</td>
                    <td>13.5</td>
                </tr>
                <tr>
                    <td>E4 - Mediana empresa</td>
                    <td>154.4</td>
                    <td>180.8</td>
                    <td>220.1</td>
                </tr>
                <tr>
                    <td>E5 - Empresa grande</td>
                    <td>89.6</td>
                    <td>81.3</td>
                    <td>45.4</td>
                </tr>
                <tr>
                    <td>Número de productores apoyados</td>
                    <td>558</td>
                    <td>93</td>
                    <td>84</td>
                </tr>
                <tr>
                    <td>Superficie apoyada (ha)*</td>
                    <td>1,398</td>
                    <td>2,676</td>
                    <td>1,115</td>
                </tr>
            </tbody>
        </table>
        <div class="footnote">Fuente: FIRA-EBIS.</div>
        <div class="footnote">*Actividad primaria.</div>

        <h3 class="section-title">Saldo de financiamiento de la red alfalfa por entidad <br><small>(Millones de pesos)</small></h3>
        <table>
            <thead>
                <tr>
                    <th>Entidad</th>
                    <th>2021</th>
                    <th>2022</th>
                    <th>2023</th>
                    <th>2023 (%)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Chihuahua</td>
                    <td>189.1</td>
                    <td>143.6</td>
                    <td>146.6</td>
                    <td>52.1%</td>
                </tr>
                <tr>
                    <td>Coahuila</td>
                    <td>88.8</td>
                    <td>144.0</td>
                    <td>122.8</td>
                    <td>43.7%</td>
                </tr>
                <tr>
                    <td>Durango</td>
                    <td>3.6</td>
                    <td>2.3</td>
                    <td>11.1</td>
                    <td>3.9%</td>
                </tr>
                <tr>
                    <td>Nuevo León</td>
                    <td>1.4</td>
                    <td>1.4</td>
                    <td>0.7</td>
                    <td>0.2%</td>
                </tr>
                <tr>
                    <td>Tamaulipas</td>
                    <td>0.0</td>
                    <td>0.0</td>
                    <td>0.0</td>
                    <td>0.0%</td>
                </tr>
                <tr class="table-header-group">
                    <td>Región Norte</td>
                    <td>282.9</td>
                    <td>291.2</td>
                    <td>281.1</td>
                    <td>100.0%</td>
                </tr>
            </tbody>
        </table>
        <div class="footnote">Fuente: FIRA-EBIS.</div>

        <div class="grid-2-col">
            <div>
                <h3 class="section-title">Distribución del número de productores y saldo de financiamiento por estrato, 2023 <br><small>(Porcentaje)</small></h3>
                <div class="chart-container" id="producer-estrato-chart"></div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="legend-color" style="background-color: #EF5350;"></span>E1</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FFC107;"></span>E2</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #4CAF50;"></span>E3</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #2196F3;"></span>E4</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #9C27B0;"></span>E5</div>
                </div>
                <div class="footnote">Fuente: FIRA-EBIS.</div>
            </div>
            <div>
                <h3 class="section-title">Distribución del saldo de cartera por tipo de crédito y por actividad, 2023 <br><small>(Porcentaje)</small></h3>
                <div class="chart-container" id="credit-distribution-chart"></div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="legend-color" style="background-color: #4CAF50;"></span>Avío</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FFC107;"></span>Refaccionario</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #EF5350;"></span>Prendario</div>
                </div>
                <div class="chart-legend" style="margin-top: 20px;">
                    <div class="legend-item"><span class="legend-color" style="background-color: #2196F3;"></span>Primaria</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #FF9800;"></span>Industrialización</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #8BC34A;"></span>Comercialización</div>
                    <div class="legend-item"><span class="legend-color" style="background-color: #9E9E9E;"></span>Servicios</div>
                </div>
                <div class="footnote">Fuente: FIRA-EBIS.</div>
            </div>
        </div>
    </div>

    <script>
        // Data for Production Evolution Chart
        const productionData = [
            { year: 2019, Coah: 2755, Chih: 8116, Dgo: 1621, NL: 2, Tamps: 0 },
            { year: 2020, Coah: 2846, Chih: 8147, Dgo: 1589, NL: 2, Tamps: 0 },
            { year: 2021, Coah: 2791, Chih: 7780, Dgo: 1576, NL: 2, Tamps: 0 },
            { year: 2022, Coah: 2978, Chih: 8486, Dgo: 1667, NL: 2, Tamps: 0 },
            { year: 2023, Coah: 2982, Chih: 9835, Dgo: 1620, NL: 127, Tamps: 7 },
        ].map(d => ({
            year: d.year,
            Coah: d.Coah,
            Chih: d.Chih,
            Dgo: d.Dgo,
            NL: d.NL,
            Tamps: d.Tamps,
            total: d.Coah + d.Chih + d.Dgo + d.NL + d.Tamps
        }));

        // Dynamically calculate the highest value for the stacked bar chart's y-axis
        const maxProductionValue = d3.max(productionData, d => d.total);

        function createStackedBarChart(selector, data, keys, colors) {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height;
            const width = containerWidth - margin.left - margin.right;
            const height = containerHeight - margin.top - margin.bottom;

            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(data.map(d => d.year))
                .range([0, width])
                .padding(0.2);

            const y = d3.scaleLinear()
                .domain([0, maxProductionValue * 1.1]) // Add some padding above the max value
                .range([height, 0]);

            const color = d3.scaleOrdinal()
                .domain(keys)
                .range(colors);

            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x).tickFormat(d3.format("d"))); // Ensure year is displayed as integer

            svg.append("g")
                .call(d3.axisLeft(y));

            const stackedData = d3.stack().keys(keys)(data);

            svg.selectAll(".series")
                .data(stackedData)
                .enter().append("g")
                .attr("fill", d => color(d.key))
                .selectAll("rect")
                .data(d => d)
                .enter().append("rect")
                .attr("x", d => x(d.data.year))
                .attr("y", d => y(d[1]))
                .attr("height", d => y(d[0]) - y(d[1]))
                .attr("width", x.bandwidth());

            // Add text labels for total production above each bar
            svg.selectAll(".total-label")
                .data(data)
                .enter().append("text")
                .attr("class", "total-label")
                .attr("x", d => x(d.year) + x.bandwidth() / 2)
                .attr("y", d => y(d.total) - 5) // Position slightly above the bar
                .attr("text-anchor", "middle")
                .attr("font-size", "10px")
                .attr("fill", "#333")
                .text(d => d3.format(".1f")(d.total)); // Format to one decimal place
        }

        createStackedBarChart(
            "#production-evolution-chart",
            productionData,
            ["Coah", "Chih", "Dgo", "NL", "Tamps"],
            ["#4CAF50", "#FFC107", "#FF5722", "#795548", "#607D8B"]
        );


        // Data for Humidity Distribution Chart
        const humidityData = [
            { entity: "Coah", Riego: 100, Temporal: 0 },
            { entity: "Chih", Riego: 100, Temporal: 0 },
            { entity: "Dgo", Riego: 100, Temporal: 0 },
            { entity: "NL", Riego: 100, Temporal: 0 },
            { entity: "Tamps", Riego: 100, Temporal: 0 }
        ];

        function create100PercentStackedBarChart(selector, data, keys, colors) {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height;
            const width = containerWidth - margin.left - margin.right;
            const height = containerHeight - margin.top - margin.bottom;

            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(data.map(d => d.entity))
                .range([0, width])
                .padding(0.2);

            const y = d3.scaleLinear()
                .domain([0, 100])
                .range([height, 0]);

            const color = d3.scaleOrdinal()
                .domain(keys)
                .range(colors);

            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x));

            svg.append("g")
                .call(d3.axisLeft(y).ticks(5).tickFormat(d => d + "%")); // Show percentage ticks

            const stackedData = d3.stack().keys(keys)(data);

            svg.selectAll(".series")
                .data(stackedData)
                .enter().append("g")
                .attr("fill", d => color(d.key))
                .selectAll("rect")
                .data(d => d)
                .enter().append("rect")
                .attr("x", d => x(d.data.entity))
                .attr("y", d => y(d[1]))
                .attr("height", d => y(d[0]) - y(d[1]))
                .attr("width", x.bandwidth());

            // Add percentage labels inside each bar segment
            svg.selectAll(".bar-label")
                .data(stackedData.flat())
                .enter().append("text")
                .attr("class", "bar-label")
                .attr("x", d => x(d.data.entity) + x.bandwidth() / 2)
                .attr("y", d => y(d[0]) - (y(d[0]) - y(d[1])) / 2 + 5) // Center of the bar segment
                .attr("text-anchor", "middle")
                .attr("font-size", "10px")
                .attr("fill", "white")
                .text(d => {
                    const value = d[1] - d[0];
                    return value > 0 ? value.toFixed(0) + "%" : "";
                });
        }

        create100PercentStackedBarChart(
            "#humidity-distribution-chart",
            humidityData,
            ["Riego", "Temporal"],
            ["#2196F3", "#FF9800"]
        );

        // Yields Chart Data
        const yieldsData = [
            { year: 2019, Coah: 80.7, Chih: 90.0, Dgo: 89.0, NL: 62.8, Nacional: 89.2 },
            { year: 2020, Coah: 80.9, Chih: 90.3, Dgo: 90.1, NL: 64.8, Nacional: 88.8 },
            { year: 2021, Coah: 79.9, Chih: 89.8, Dgo: 88.4, NL: 60.1, Nacional: 88.6 },
            { year: 2022, Coah: 81.3, Chih: 93.3, Dgo: 92.2, NL: 54.2, Nacional: 93.8 },
            { year: 2023, Coah: 79.3, Chih: 98.1, Dgo: 91.6, NL: 50.6, Nacional: 95.7 }
        ];

        // Price Chart Data
        const priceData = [
            { year: 2019, Coah: 886, Chih: 770, Dgo: 798, NL: 825, Nacional: 719 },
            { year: 2020, Coah: 837, Chih: 778, Dgo: 777, NL: 804, Nacional: 698 },
            { year: 2021, Coah: 817, Chih: 728, Dgo: 748, NL: 779, Nacional: 681 },
            { year: 2022, Coah: 923, Chih: 762, Dgo: 854, NL: 744, Nacional: 741 },
            { year: 2023, Coah: 881, Chih: 856, Dgo: 817, NL: 720, Nacional: 757 }
        ];

        function createLineChart(selector, data, keys, colors, isDashed = {}, yAxisLabel = "") {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height;
            const width = containerWidth - margin.left - margin.right;
            const height = containerHeight - margin.top - margin.bottom;

            container.html(""); // Clear previous chart
            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x = d3.scalePoint()
                .domain(data.map(d => d.year))
                .range([0, width])
                .padding(0.5);

            const y = d3.scaleLinear()
                .domain([
                    d3.min(data, d => d3.min(keys, key => d[key])) * 0.9,
                    d3.max(data, d => d3.max(keys, key => d[key])) * 1.1
                ])
                .range([height, 0]);

            const color = d3.scaleOrdinal()
                .domain(keys)
                .range(colors);

            // X-axis
            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x).tickFormat(d3.format("d")));

            // Y-axis
            svg.append("g")
                .call(d3.axisLeft(y).ticks(5));

            // Grid lines
            svg.append("g")
                .attr("class", "grid")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x)
                    .tickSize(-height)
                    .tickFormat("")
                );
            svg.append("g")
                .attr("class", "grid")
                .call(d3.axisLeft(y)
                    .tickSize(-width)
                    .tickFormat("")
                );

            const line = d3.line()
                .x(d => x(d.year))
                .y(d => y(d.value));

            keys.forEach((key, i) => {
                const lineData = data.map(d => ({ year: d.year, value: d[key] }));
                svg.append("path")
                    .datum(lineData)
                    .attr("fill", "none")
                    .attr("stroke", color(key))
                    .attr("stroke-width", 2)
                    .attr("d", line)
                    .attr("stroke-dasharray", isDashed[key] ? ("5,5") : ("0,0"));

                // Add circles for data points
                svg.selectAll(`dot-${key}`)
                    .data(lineData)
                    .enter().append("circle")
                    .attr("cx", d => x(d.year))
                    .attr("cy", d => y(d.value))
                    .attr("r", 4)
                    .attr("fill", color(key))
                    .attr("stroke", "white")
                    .attr("stroke-width", 1);
            });
        }

        createLineChart(
            "#yields-chart",
            yieldsData,
            ["Coah", "Chih", "Dgo", "NL", "Nacional"],
            ["#4CAF50", "#FFC107", "#FF5722", "#795548", "#000000"],
            { "Nacional": true }
        );

        createLineChart(
            "#price-chart",
            priceData,
            ["Coah", "Chih", "Dgo", "NL", "Nacional"],
            ["#4CAF50", "#FFC107", "#FF5722", "#795548", "#000000"],
            { "Nacional": true }
        );

        // Harvest Seasonality Chart Data
        const harvestData = [
            { month: "oct-22", Chihuahua: 5.1, Durango: 5.3 },
            { month: "nov-22", Chihuahua: 3.3, Durango: 4.9 },
            { month: "dic-22", Chihuahua: 0.4, Durango: 6.0 },
            { month: "ene-23", Chihuahua: 0.0, Durango: 4.4 },
            { month: "feb-23", Chihuahua: 0.6, Durango: 4.5 },
            { month: "mar-23", Chihuahua: 2.5, Durango: 8.3 },
            { month: "abr-23", Chihuahua: 15.2, Durango: 10.3 },
            { month: "may-23", Chihuahua: 11.4, Durango: 10.1 },
            { month: "jun-23", Chihuahua: 13.4, Durango: 11.3 },
            { month: "jul-23", Chihuahua: 16.2, Durango: 13.2 },
            { month: "ago-23", Chihuahua: 17.2, Durango: 10.7 },
            { month: "sep-23", Chihuahua: 14.6, Durango: 10.8 }
        ];

        function createGroupedBarChart(selector, data, keys, colors) {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height;
            const width = containerWidth - margin.left - margin.right;
            const height = containerHeight - margin.top - margin.bottom;

            container.html(""); // Clear previous chart
            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x0 = d3.scaleBand()
                .domain(data.map(d => d.month))
                .rangeRound([0, width])
                .paddingInner(0.1);

            const x1 = d3.scaleBand()
                .domain(keys)
                .rangeRound([0, x0.bandwidth()])
                .padding(0.05);

            const y = d3.scaleLinear()
                .domain([0, d3.max(data, d => d3.max(keys, key => d[key])) * 1.1])
                .rangeRound([height, 0]);

            const color = d3.scaleOrdinal()
                .domain(keys)
                .range(colors);

            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x0));

            svg.append("g")
                .call(d3.axisLeft(y).ticks(10, "%"));

            const monthGroup = svg.selectAll(".month-group")
                .data(data)
                .enter().append("g")
                .attr("transform", d => `translate(${x0(d.month)},0)`);

            monthGroup.selectAll("rect")
                .data(d => keys.map(key => ({ key: key, value: d[key] })))
                .enter().append("rect")
                .attr("x", d => x1(d.key))
                .attr("y", d => y(d.value))
                .attr("width", x1.bandwidth())
                .attr("height", d => height - y(d.value))
                .attr("fill", d => color(d.key));

            monthGroup.selectAll(".bar-label")
                .data(d => keys.map(key => ({ key: key, value: d[key], month: d.month })))
                .enter().append("text")
                .attr("class", "bar-label")
                .attr("x", d => x1(d.key) + x1.bandwidth() / 2)
                .attr("y", d => y(d.value) - 5)
                .attr("text-anchor", "middle")
                .attr("font-size", "10px")
                .attr("fill", "#333")
                .text(d => d.value > 0 ? d3.format(".1f")(d.value) + "%" : "");
        }

        createGroupedBarChart(
            "#harvest-seasonality-chart",
            harvestData,
            ["Chihuahua", "Durango"],
            ["#00796b", "#FF9800"]
        );


        // Producer Estrato Chart Data (for two stacked bars: Producers and Balance)
        const producerEstratoData = {
            producers: { "E1": 2.4, "E2": 50.0, "E3": 28.6, "E4": 16.7, "E5": 2.4 }, // Sums to 100.1, adjust for 100 if needed
            balance: { "E1": 0.5, "E2": 0.3, "E3": 4.8, "E4": 78.3, "E5": 16.1 } // Sums to 100
        };

        function createDualStackedBarChart(selector, data, keys, colors) {
            const margin = { top: 20, right: 30, bottom: 60, left: 60 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height;
            const width = containerWidth - margin.left - margin.right;
            const height = containerHeight - margin.top - margin.bottom;

            container.html(""); // Clear previous chart
            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const categories = ["Productores", "Saldo de cartera"];

            const x = d3.scaleBand()
                .domain(categories)
                .range([0, width])
                .padding(0.2);

            const y = d3.scaleLinear()
                .domain([0, 100])
                .range([height, 0]);

            const color = d3.scaleOrdinal()
                .domain(keys)
                .range(colors);

            // X-axis
            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x));

            // Y-axis
            svg.append("g")
                .call(d3.axisLeft(y).ticks(5).tickFormat(d => d + "%"));

            const stackedProducersData = d3.stack().keys(keys)([data.producers].map(d => ({
                ...d,
                category: "Productores"
            })));
            const stackedBalanceData = d3.stack().keys(keys)([data.balance].map(d => ({
                ...d,
                category: "Saldo de cartera"
            })));

            // Draw bars for Producers
            svg.selectAll(".bar-producer")
                .data(stackedProducersData)
                .enter().append("g")
                .attr("fill", d => color(d.key))
                .selectAll("rect")
                .data(d => d)
                .enter().append("rect")
                .attr("x", x("Productores"))
                .attr("y", d => y(d[1]))
                .attr("height", d => y(d[0]) - y(d[1]))
                .attr("width", x.bandwidth());

            // Draw labels for Producers
            svg.selectAll(".label-producer")
                .data(stackedProducersData.flat())
                .enter().append("text")
                .attr("class", "label-producer")
                .attr("x", x("Productores") + x.bandwidth() / 2)
                .attr("y", d => y(d[0]) - (y(d[0]) - y(d[1])) / 2 + 5)
                .attr("text-anchor", "middle")
                .attr("fill", "white")
                .attr("font-size", "10px")
                .text(d => (d[1] - d[0]) > 0.1 ? d3.format(".1f")(d[1] - d[0]) + "%" : "");


            // Draw bars for Saldo de cartera
            svg.selectAll(".bar-balance")
                .data(stackedBalanceData)
                .enter().append("g")
                .attr("fill", d => color(d.key))
                .selectAll("rect")
                .data(d => d)
                .enter().append("rect")
                .attr("x", x("Saldo de cartera"))
                .attr("y", d => y(d[1]))
                .attr("height", d => y(d[0]) - y(d[1]))
                .attr("width", x.bandwidth());

            // Draw labels for Saldo de cartera
            svg.selectAll(".label-balance")
                .data(stackedBalanceData.flat())
                .enter().append("text")
                .attr("class", "label-balance")
                .attr("x", x("Saldo de cartera") + x.bandwidth() / 2)
                .attr("y", d => y(d[0]) - (y(d[0]) - y(d[1])) / 2 + 5)
                .attr("text-anchor", "middle")
                .attr("fill", "white")
                .attr("font-size", "10px")
                .text(d => (d[1] - d[0]) > 0.1 ? d3.format(".1f")(d[1] - d[0]) + "%" : "");
        }

        createDualStackedBarChart(
            "#producer-estrato-chart",
            producerEstratoData,
            ["E1", "E2", "E3", "E4", "E5"],
            ["#EF5350", "#FFC107", "#4CAF50", "#2196F3", "#9C27B0"]
        );

        // Credit Distribution Chart Data
        const creditDistributionData = {
            creditType: { "Avío": 52.6, "Refaccionario": 47.4, "Prendario": 0 },
            activity: { "Primaria": 78.0, "Industrialización": 20.0, "Comercialización": 2.0, "Servicios": 0 }
        };

        function createDualHorizontalStackedBarChart(selector, data, creditKeys, creditColors, activityKeys, activityColors) {
            const margin = { top: 20, right: 30, bottom: 40, left: 100 };
            const container = d3.select(selector);
            const containerWidth = container.node().getBoundingClientRect().width;
            const containerHeight = container.node().getBoundingClientRect().height; // Assuming enough height for two bars
            const width = containerWidth - margin.left - margin.right;
            const heightPerBar = (containerHeight - margin.top - margin.bottom) / 2 - 10; // Allocate space for two bars + gap

            container.html(""); // Clear previous chart
            const svg = container.append("svg")
                .attr("width", containerWidth)
                .attr("height", containerHeight)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const x = d3.scaleLinear()
                .domain([0, 100])
                .range([0, width]);

            const barHeight = 30; // Fixed height for each bar

            // Credit Type Bar
            let currentXCredit = 0;
            Object.keys(data.creditType).forEach(key => {
                const value = data.creditType[key];
                if (value > 0) {
                    svg.append("rect")
                        .attr("x", x(currentXCredit))
                        .attr("y", (heightPerBar - barHeight) / 2) // Vertically center the bar
                        .attr("width", x(value) - x(0))
                        .attr("height", barHeight)
                        .attr("fill", creditColors[creditKeys.indexOf(key)]);

                    if (value > 5) { // Only show label if segment is large enough
                        svg.append("text")
                            .attr("x", x(currentXCredit + value / 2))
                            .attr("y", (heightPerBar - barHeight) / 2 + barHeight / 2 + 5)
                            .attr("text-anchor", "middle")
                            .attr("fill", "white")
                            .attr("font-size", "10px")
                            .text(d3.format(".1f")(value) + "%");
                    }
                    currentXCredit += value;
                }
            });
            svg.append("text")
                .attr("x", -margin.left / 2)
                .attr("y", (heightPerBar / 2) + 5)
                .attr("text-anchor", "middle")
                .attr("fill", "#333")
                .attr("font-size", "12px")
                .text("Tipo de Crédito")
                .attr("transform", `rotate(-90 ${-margin.left / 2}, ${(heightPerBar / 2) + 5})`);


            // Activity Bar (positioned below the first bar)
            const activityBarYOffset = heightPerBar + 20; // Gap between bars
            let currentXActivity = 0;
            Object.keys(data.activity).forEach(key => {
                const value = data.activity[key];
                if (value > 0) {
                    svg.append("rect")
                        .attr("x", x(currentXActivity))
                        .attr("y", activityBarYOffset + (heightPerBar - barHeight) / 2)
                        .attr("width", x(value) - x(0))
                        .attr("height", barHeight)
                        .attr("fill", activityColors[activityKeys.indexOf(key)]);

                    if (value > 5) {
                        svg.append("text")
                            .attr("x", x(currentXActivity + value / 2))
                            .attr("y", activityBarYOffset + (heightPerBar - barHeight) / 2 + barHeight / 2 + 5)
                            .attr("text-anchor", "middle")
                            .attr("fill", "white")
                            .attr("font-size", "10px")
                            .text(d3.format(".1f")(value) + "%");
                    }
                    currentXActivity += value;
                }
            });
            svg.append("text")
                .attr("x", -margin.left / 2)
                .attr("y", activityBarYOffset + (heightPerBar / 2) + 5)
                .attr("text-anchor", "middle")
                .attr("fill", "#333")
                .attr("font-size", "12px")
                .text("Actividad")
                .attr("transform", `rotate(-90 ${-margin.left / 2}, ${activityBarYOffset + (heightPerBar / 2) + 5})`);

            // X-axis (common for both, at the bottom)
            svg.append("g")
                .attr("transform", `translate(0,${containerHeight - margin.top - margin.bottom})`)
                .call(d3.axisBottom(x).tickFormat(d => d + "%"));
        }

        createDualHorizontalStackedBarChart(
            "#credit-distribution-chart",
            creditDistributionData,
            ["Avío", "Refaccionario", "Prendario"],
            ["#2196F3", "#FF9800", "#8BC34A"], // Example colors
            ["Primaria", "Industrialización", "Comercialización", "Servicios"],
            ["#4CAF50", "#FFC107", "#EF5350", "#9E9E9E"] // Example colors
        );
    </script>
</body>